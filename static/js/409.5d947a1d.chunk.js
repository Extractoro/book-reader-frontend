"use strict";(self.webpackChunkbook_reader_frontend=self.webpackChunkbook_reader_frontend||[]).push([[409],{6409:function(e,r,a){a.r(r),a.d(r,{default:function(){return te}});var s=a(885),l=a(2791),i=a(5984),n=a(3073);var t=a.p+"static/media/library-sprite.0d49019b43287b7730ec068e45cadd2d.svg",c={"form-container":"LibraryForm_form-container__llgLX",form:"LibraryForm_form__KyVNS","input-1":"LibraryForm_input-1__vE-wx","input-2":"LibraryForm_input-2__JvBtE","input-3":"LibraryForm_input-3__WNKTO","input-4":"LibraryForm_input-4__pCdgJ",button:"LibraryForm_button__V94jO",paragraph:"LibraryForm_paragraph__d6TqO","arrow-back":"LibraryForm_arrow-back__Hks30","inputs-cont":"LibraryForm_inputs-cont__qz8Vk"},d=a(6386),o=a(184),h=function(){var e=(0,d.Jk)(),r=(0,s.Z)(e,1)[0],a=(0,l.useState)(""),h=(0,s.Z)(a,2),x=h[0],_=h[1],p=(0,l.useState)(""),m=(0,s.Z)(p,2),u=m[0],j=m[1],b=(0,l.useState)(""),y=(0,s.Z)(b,2),f=y[0],N=y[1],v=(0,l.useState)(""),g=(0,s.Z)(v,2),w=g[0],C=g[1],L=(0,i.x0)(),k=(0,i.x0)(),M=(0,i.x0)(),F=(0,i.x0)(),A=(new Date).getFullYear(),S=function(e){var r=e.target,a=r.name,s=r.value;switch(a){case"book":_(s);break;case"author":j(s);break;case"year":s<=A?N(s):console.log("Notify");break;case"pages":C(s);break;default:return}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Z,{query:"(max-width: 767px)",render:function(){return(0,o.jsx)("svg",{className:c["arrow-back"],width:"30",height:"25",children:(0,o.jsx)("use",{href:t+"#library-back"})})}}),(0,o.jsxs)("form",{className:c.form,onSubmit:function(e){e.preventDefault(),r({title:x,author:u,year:f,totalPages:w}),_(""),j(""),N(""),C("")},children:[(0,o.jsx)("div",{children:(0,o.jsxs)("label",{htmlFor:L,className:c["input-label"],children:[(0,o.jsx)("p",{className:c.paragraph,children:"\u041d\u0430\u0437\u0432\u0430 \u043a\u043d\u0438\u0433\u0438"}),(0,o.jsx)("input",{className:c["input-1"],onChange:S,type:"text",name:"book",placeholder:"...",value:x,required:!0})]})}),(0,o.jsxs)("div",{className:c["inputs-cont"],children:[(0,o.jsxs)("label",{htmlFor:k,className:c["input-label"],children:[(0,o.jsx)("p",{className:c.paragraph,children:"\u0410\u0432\u0442\u043e\u0440 \u043a\u043d\u0438\u0433\u0438"}),(0,o.jsx)("input",{className:c["input-2"],onChange:S,type:"text",name:"author",placeholder:"...",value:u,required:!0})]}),(0,o.jsxs)("label",{htmlFor:M,className:c["input-label"],children:[(0,o.jsx)("p",{className:c.paragraph,children:"\u0420\u0456\u043a \u0432\u0438\u043f\u0443\u0441\u043a\u0443"}),(0,o.jsx)("input",{className:c["input-3"],onChange:S,type:"number",name:"year",placeholder:"Write year lower than or equal now year",value:f,required:!0})]}),(0,o.jsxs)("label",{htmlFor:F,className:c["input-label"],children:[(0,o.jsx)("p",{className:c.paragraph,children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0441\u0442\u043e\u0440\u0456\u043d\u043e\u043a"}),(0,o.jsx)("input",{className:c["input-4"],onChange:S,type:"number",name:"pages",placeholder:"...",value:w,required:!0})]})]}),(0,o.jsx)("button",{type:"submit",className:c.button,children:"\u0414\u043e\u0434\u0430\u0442\u0438"})]})]})},x={backdrop:"ModalLibrary_backdrop__QDvyM",modal:"ModalLibrary_modal__Lf5Ck",wrapper:"ModalLibrary_wrapper__5TFMP","flex-wrapper":"ModalLibrary_flex-wrapper__ai-By","flex-cont":"ModalLibrary_flex-cont__nRgLN",firstStep:"ModalLibrary_firstStep__R5R5H",secondStep:"ModalLibrary_secondStep__rZjxt",stepsTitle:"ModalLibrary_stepsTitle__PmhBV",stepsSuptitle:"ModalLibrary_stepsSuptitle__NaPHD",stepsParagrath:"ModalLibrary_stepsParagrath__LQYzh","modal-button":"ModalLibrary_modal-button__v07pw","arrow-icon":"ModalLibrary_arrow-icon__8j2pb"},_=a(4164),p=document.querySelector("#modal-root");var m=function(){return(0,_.createPortal)((0,o.jsx)("div",{className:x.backdrop,children:(0,o.jsx)("div",{className:x.modal,children:(0,o.jsxs)("div",{className:x.wrapper,children:[(0,o.jsxs)("div",{className:x.firstStep,children:[(0,o.jsx)("h4",{className:x.stepsTitle,children:"\u041a\u0440\u043e\u043a 1."}),(0,o.jsxs)("div",{className:x["flex-wrapper"],children:[(0,o.jsxs)("div",{className:x["flex-cont"],children:[(0,o.jsx)("svg",{className:x["main-icon"],width:"30",height:"25",children:(0,o.jsx)("use",{href:t+"#library-icon"})}),(0,o.jsx)("h5",{className:x.stepsSuptitle,children:"\u0421\u0442\u0432\u043e\u0440\u0456\u0442\u044c \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0443 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0443"})]}),(0,o.jsx)("div",{className:x["flex-wrapper"],children:(0,o.jsxs)("div",{className:x["flex-cont"],children:[(0,o.jsx)("svg",{className:x["arrow-icon"],width:"30",height:"25",children:(0,o.jsx)("use",{href:t+"#library-arrow"})}),(0,o.jsx)("p",{className:x.stepsParagrath,children:"\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0434\u043e \u043d\u0435\u0457 \u043a\u043d\u0438\u0436\u043a\u0438, \u044f\u043a\u0456 \u043c\u0430\u0454\u0442\u0435 \u043d\u0430\u043c\u0456\u0440 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u0438."})]})})]})]}),(0,o.jsxs)("div",{className:x.secondStep,children:[(0,o.jsx)("h4",{className:x.stepsTitle,children:"\u041a\u0440\u043e\u043a 2."}),(0,o.jsxs)("div",{className:x["flex-wrapper"],children:[(0,o.jsxs)("div",{className:x["flex-cont"],children:[(0,o.jsx)("svg",{className:x["main-icon"],width:"30",height:"25",children:(0,o.jsx)("use",{href:t+"#library-flag"})}),(0,o.jsx)("h5",{className:x.stepsSuptitle,children:"\u0421\u0444\u043e\u0440\u043c\u0443\u0439\u0442\u0435 \u0441\u0432\u043e\u0454 \u043f\u0435\u0440\u0448\u0435 \u0442\u0440\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f"})]}),(0,o.jsx)("div",{className:x["flex-wrapper"],children:(0,o.jsxs)("div",{className:x["flex-cont"],children:[(0,o.jsx)("svg",{className:x["arrow-icon"],width:"30",height:"25",children:(0,o.jsx)("use",{href:t+"#library-arrow"})}),(0,o.jsx)("p",{className:x.stepsParagrath,children:"\u0412\u0438\u0437\u043d\u0430\u0447\u0442\u0435 \u0446\u0456\u043b\u044c, \u043e\u0431\u0435\u0440\u0456\u0442\u044c \u043f\u0435\u0440\u0456\u043e\u0434, \u0440\u043e\u0437\u043f\u043e\u0447\u0438\u043d\u0430\u0439\u0442\u0435 \u0442\u0440\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f."})]})})]})]}),(0,o.jsx)("button",{className:x["modal-button"],type:"button",children:"Ok"})]})})}),p)},u={"library-wrapper":"Library_library-wrapper__5Nwid","library-flex-wrapper":"Library_library-flex-wrapper__10sdz","library-flex-container":"Library_library-flex-container__4yGrm","library-flex-cont":"Library_library-flex-cont__z6GXC","library-firstStep":"Library_library-firstStep__nYw4J","library-secondStep":"Library_library-secondStep__x6Yfe","library-stepsTitle":"Library_library-stepsTitle__v9enL","library-stepsSuptitle":"Library_library-stepsSuptitle__i6wzB","library-stepsParagrath":"Library_library-stepsParagrath__URrhl","library-modal-button":"Library_library-modal-button__hBrkQ","library-arrow-icon":"Library_library-arrow-icon__Gl42M"},j=a(5562),b="AlreadyReadList_container__c0Wvz",y="AlreadyReadList_list__BF0Jd",f="AlreadyReadList_bookInfo__Xd1qP",N="AlreadyReadList_bookInfoText__6AfSo",v="AlreadyReadList_title__Xw2f3",g="AlreadyReadList_author__5Oq+6",w="AlreadyReadList_year__TF9Wy",C="AlreadyReadList_page__4rXWF",L="AlreadyReadList_sectionTitle__4bmJg",k=a(4805),M=a.n(k),F="AlreadyReadCard_card__phmjP",A="AlreadyReadCard_iconTitle__wU+h8",S="AlreadyReadCard_bookInfoWrapper__Sqiu+",R="AlreadyReadCard_bookTitle__DBwEW",P="AlreadyReadCard_navIcon__I2X+a",T="AlreadyReadCard_bookMoreInfo__ry4DY",B="AlreadyReadCard_bookMoreInfoAuthor__95jPF",I="AlreadyReadCard_titleText__Vk2eJ",V="AlreadyReadCard_bookMoreInfoYear__U+rH5",Z="AlreadyReadCard_bookMoreInfoPage__55V14",W="AlreadyReadCard_button__c1QBP",D="AlreadyReadCard_buttonText__8cGrE",q="AlreadyReadCard_marginStar__Wll08",E=function(){return(0,o.jsx)("svg",{width:"24",height:"12",viewBox:"0 0 24 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M0.274948 6.47611C0.275228 6.47639 0.275463 6.47672 0.275791 6.477L5.17442 11.352C5.54141 11.7172 6.13498 11.7158 6.50028 11.3488C6.86553 10.9818 6.86412 10.3883 6.49714 10.023L3.2082 6.75L23.0625 6.75C23.5803 6.75 24 6.33028 24 5.8125C24 5.29472 23.5803 4.875 23.0625 4.875L3.20825 4.875L6.49709 1.602C6.86408 1.23675 6.86548 0.643171 6.50023 0.276187C6.13494 -0.0908922 5.54131 -0.0921577 5.17437 0.273L0.275745 5.148C0.275463 5.14828 0.275228 5.14861 0.2749 5.14889C-0.0922723 5.51536 -0.0910993 6.11086 0.274948 6.47611Z",fill:"#FF6B08"})})},J="Modal_overlay__Kk8KY",Y="Modal_closeArrowColor__QYFv+",z="Modal_content__9qu0x",X="Modal_button__gYBHZ",G="Modal_headerModal__D4E9X",Q=document.getElementById("modal-root"),H=function(e){var r=e.closeModal,a=e.children,s=e.type,i=(0,l.useCallback)((function(e){if("Escape"===e.code)return r();e.target===e.currentTarget&&r()}),[r]);return(0,l.useEffect)((function(){return document.addEventListener("keydown",i),function(){return document.removeEventListener("keydown",i)}}),[i]),(0,_.createPortal)((0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{onClick:i,className:J,children:(0,o.jsxs)("div",{className:"exit"===s?G:z,children:["exit"!==s&&"end"!==s&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("button",{className:X,onClick:function(){return r()},children:(0,o.jsx)(E,{color:Y})})}),a]})})}),Q)},O=a(2982),K=a(9135),U=function(e){var r=e.rating;return(0,o.jsx)("div",{children:(0,O.Z)(Array(5)).map((function(e,a){var s=a+1;return(0,o.jsx)(K.QJe,{size:17,color:s<=r?"#FF6B08":"#e4e5e9"},a)}))})},$=function(){return(0,o.jsxs)("svg",{width:"22",height:"17",viewBox:"0 0 22 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{d:"M20 0.5C18.89 0.15 17.67 0 16.5 0C14.55 0 12.45 0.4 11 1.5C9.55 0.4 7.45 0 5.5 0C3.55 0 1.45 0.4 0 1.5V16.15C0 16.4 0.25 16.65 0.5 16.65C0.6 16.65 0.65 16.6 0.75 16.6C2.1 15.95 4.05 15.5 5.5 15.5C7.45 15.5 9.55 15.9 11 17C12.35 16.15 14.8 15.5 16.5 15.5C18.15 15.5 19.85 15.8 21.25 16.55C21.35 16.6 21.4 16.6 21.5 16.6C21.75 16.6 22 16.35 22 16.1V1.5C21.4 1.05 20.75 0.75 20 0.5ZM20 14C18.9 13.65 17.7 13.5 16.5 13.5C14.8 13.5 12.35 14.15 11 15V3.5C12.35 2.65 14.8 2 16.5 2C17.7 2 18.9 2.15 20 2.5V14Z",fill:"#6D7A8D"}),(0,o.jsx)("path",{d:"M16.5 6C17.38 6 18.23 6.09 19 6.26V4.74C18.21 4.59 17.36 4.5 16.5 4.5C14.8 4.5 13.26 4.79 12 5.33V6.99C13.13 6.35 14.7 6 16.5 6Z",fill:"#6D7A8D"}),(0,o.jsx)("path",{d:"M12 7.99016V9.65016C13.13 9.01016 14.7 8.66016 16.5 8.66016C17.38 8.66016 18.23 8.75016 19 8.92016V7.40016C18.21 7.25016 17.36 7.16016 16.5 7.16016C14.8 7.16016 13.26 7.46016 12 7.99016Z",fill:"#6D7A8D"}),(0,o.jsx)("path",{d:"M16.5 9.83008C14.8 9.83008 13.26 10.1201 12 10.6601V12.3201C13.13 11.6801 14.7 11.3301 16.5 11.3301C17.38 11.3301 18.23 11.4201 19 11.5901V10.0701C18.21 9.91008 17.36 9.83008 16.5 9.83008Z",fill:"#6D7A8D"})]})},ee="BooksInfo_bookInfo__BVPBI",re="BooksInfo_bookInfoText__VrEAk",ae="BooksInfo_bookInfoGR__j4JDy",se="BooksInfo_bookInfoTextGR__gELV5",le=function(e){var r=e.status;return(0,o.jsx)(o.Fragment,{children:"done"===r?(0,o.jsx)(M(),{maxWidth:767,children:(0,o.jsxs)("div",{className:ee,children:[(0,o.jsx)("p",{className:re,children:"\u0410\u0432\u0442\u043e\u0440:"}),(0,o.jsx)("p",{className:re,children:"\u0420\u0456\u043a:"}),(0,o.jsx)("p",{className:re,children:"\u0421\u0442\u043e\u0440.:"}),(0,o.jsx)("p",{className:re,children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433:"})]})}):(0,o.jsx)(M(),{maxWidth:767,children:(0,o.jsxs)("div",{className:ae,children:[(0,o.jsx)("p",{className:se,children:"\u0410\u0432\u0442\u043e\u0440"}),(0,o.jsx)("p",{className:se,children:"\u0420\u0456\u043a"}),(0,o.jsx)("p",{className:se,children:"\u0421\u0442\u043e\u0440."})]})})})},ie=function(e){var r=(0,l.useState)(!1),a=(0,s.Z)(r,2),i=a[0],n=a[1],t=e.title.length<=30?e.title:e.title.slice(0,29)+"...",c=e.author.length<=30?e.author:e.author.slice(0,17)+"...";return(0,o.jsxs)("li",{className:F,children:[(0,o.jsxs)("div",{className:A,children:[(0,o.jsx)("div",{className:P,children:(0,o.jsx)($,{})}),(0,o.jsx)("p",{className:R,children:t})]}),(0,o.jsx)(M(),{maxWidth:767,children:(0,o.jsxs)("div",{className:S,children:[(0,o.jsx)(le,{status:"done"}),(0,o.jsx)(M(),{maxWidth:767,children:(0,o.jsxs)("div",{className:T,children:[(0,o.jsx)("p",{className:e.author.length>30?B:I,children:e.author}),(0,o.jsx)("p",{className:V,children:e.year}),(0,o.jsx)("p",{className:Z,children:e.pages}),(0,o.jsx)("div",{className:Z,children:e.rating?(0,o.jsx)("div",{className:q,children:(0,o.jsx)(U,{backRate:e.rating})}):(0,o.jsx)("div",{className:q,children:(0,o.jsx)(U,{})})})]})})]})}),(0,o.jsxs)(M(),{minWidth:768,children:[(0,o.jsx)(M(),{minWidth:768,maxWidth:1279,children:(0,o.jsx)("p",{className:c?B:I,children:c})}),(0,o.jsx)(M(),{minWidth:1280,children:(0,o.jsx)("p",{className:c?B:I,children:e.author})}),(0,o.jsx)("p",{className:V,children:e.year}),(0,o.jsx)("p",{className:Z,children:e.pages}),e.rating?(0,o.jsx)("div",{className:q,children:(0,o.jsx)(U,{backRate:e.rating})}):(0,o.jsx)("div",{className:q,children:(0,o.jsx)(U,{})})]}),(0,o.jsx)("button",{className:W,onClick:function(){n({open:!0})},children:(0,o.jsx)("span",{className:D,children:"\u0420\u0435\u0437\u044e\u043c\u0435"})}),i.open&&(0,o.jsx)(H,{type:"exit",closeModal:function(){n({open:!1})},children:(0,o.jsx)("div",{children:"\u0444\u043e\u0440\u043c\u0430 \u0432\u0456\u0434\u0433\u0443\u043a\u0443"})})]})},ne=function(e){var r=e.library;return(0,o.jsxs)("div",{className:b,children:[r.length>0&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:L,children:"\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e"}),(0,o.jsx)(M(),{minWidth:768,children:(0,o.jsxs)("div",{className:f,children:[(0,o.jsx)("p",{className:v,children:"\u041d\u0430\u0437\u0432\u0430"}),(0,o.jsx)("p",{className:g,children:"\u0410\u0432\u0442\u043e\u0440:"}),(0,o.jsx)("p",{className:w,children:"\u0420\u0456\u043a:"}),(0,o.jsx)("p",{className:C,children:"\u0421\u0442\u043e\u0440.:"}),(0,o.jsx)("p",{className:N,children:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433:"})]})})]}),(0,o.jsx)("ul",{className:y,children:r.length>0?r.map((function(e){var r=e._id,a=e.title,s=e.author,l=e.year,i=e.totalPages,n=e.rating;return(0,o.jsx)(ie,{id:r,title:a,author:s,year:l,pages:i,rating:n},r)})):null})]})},te=function(){var e=(0,d.Lg)(),r=e.data,a=e.isFetching;return(0,o.jsxs)("div",{children:[(0,o.jsxs)(o.Fragment,{children:[!a&&j.Loading.remove(),(0,o.jsx)(h,{}),(null===r||void 0===r?void 0:r.length)>0?(0,o.jsx)(ne,{library:r}):null,(0,o.jsx)(n.Z,{query:"(min-width: 768px)",render:function(){return(0,o.jsx)("div",{className:u["library-flex-container"],children:(0,o.jsxs)("div",{className:u["library-wrapper"],children:[(0,o.jsxs)("div",{className:u["library-firstStep"],children:[(0,o.jsx)("h4",{className:u["library-stepsTitle"],children:"\u041a\u0440\u043e\u043a 1."}),(0,o.jsxs)("div",{className:u["library-flex-wrapper"],children:[(0,o.jsxs)("div",{className:u["library-flex-cont"],children:[(0,o.jsx)("svg",{className:u["library-main-icon"],width:"22",height:"18",children:(0,o.jsx)("use",{href:t+"#library-icon"})}),(0,o.jsx)("h5",{className:u["library-stepsSuptitle"],children:"\u0421\u0442\u0432\u043e\u0440\u0456\u0442\u044c \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0443 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0443"})]}),(0,o.jsx)("div",{className:u["library-flex-wrapper"],children:(0,o.jsxs)("div",{className:u["library-flex-cont"],children:[(0,o.jsx)("svg",{className:u["library-arrow-icon"],width:"10",height:"12",children:(0,o.jsx)("use",{href:t+"#library-arrow"})}),(0,o.jsx)("p",{className:u["library-stepsParagrath"],children:"\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0434\u043e \u043d\u0435\u0457 \u043a\u043d\u0438\u0436\u043a\u0438, \u044f\u043a\u0456 \u043c\u0430\u0454\u0442\u0435 \u043d\u0430\u043c\u0456\u0440 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u0438."})]})})]})]}),(0,o.jsxs)("div",{className:u["library-secondStep"],children:[(0,o.jsx)("h4",{className:u["library-stepsTitle"],children:"\u041a\u0440\u043e\u043a 2."}),(0,o.jsxs)("div",{className:u["library-flex-wrapper"],children:[(0,o.jsxs)("div",{className:u["library-flex-cont"],children:[(0,o.jsx)("svg",{className:u["library-main-icon"],width:"22",height:"18",children:(0,o.jsx)("use",{href:t+"#library-flag"})}),(0,o.jsx)("h5",{className:u["library-stepsSuptitle"],children:"\u0421\u0444\u043e\u0440\u043c\u0443\u0439\u0442\u0435 \u0441\u0432\u043e\u0454 \u043f\u0435\u0440\u0448\u0435 \u0442\u0440\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f"})]}),(0,o.jsx)("div",{className:u["library-flex-wrapper"],children:(0,o.jsxs)("div",{className:u["library-flex-cont"],children:[(0,o.jsx)("svg",{className:u["library-arrow-icon"],width:"10",height:"12",children:(0,o.jsx)("use",{href:t+"#library-arrow"})}),(0,o.jsx)("p",{className:u["library-stepsParagrath"],children:"\u0412\u0438\u0437\u043d\u0430\u0447\u0442\u0435 \u0446\u0456\u043b\u044c, \u043e\u0431\u0435\u0440\u0456\u0442\u044c \u043f\u0435\u0440\u0456\u043e\u0434, \u0440\u043e\u0437\u043f\u043e\u0447\u0438\u043d\u0430\u0439\u0442\u0435 \u0442\u0440\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f."})]})})]})]})]})})}}),(0,o.jsx)(n.Z,{query:"(max-width: 767px)",render:function(){return(0,o.jsx)(m,{})}})]}),a&&j.Loading.circle()]})}}}]);
//# sourceMappingURL=409.5d947a1d.chunk.js.map